<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>正则 | linjiad_个人博客</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
    <meta name="keywords" content="梧桐更兼细雨到黄昏点点滴滴" />
  
  <meta name="description" content="0 概述0.1 正则概念就是一个规则，用来处理字符串的一个规则  0.2 正则的用处 匹配:判断一个字符串是否包含我们所指定的规则 ref.test(str) 捕获：把字符串中符合规则的内容捕获到  ref.exec(str)   0.3 正则的元素每一个正则表达式都是由元字符和修饰符组成的  【元字符】在//之间具有意义的一些字符 【量词元字符】代表出现次数数量的元字符 【特殊符号】（()，[]">
<meta name="keywords" content="语法">
<meta property="og:type" content="article">
<meta property="og:title" content="正则">
<meta property="og:url" content="http://linjiad.github.io/2018/11/21/正则/index.html">
<meta property="og:site_name" content="linjiad_个人博客">
<meta property="og:description" content="0 概述0.1 正则概念就是一个规则，用来处理字符串的一个规则  0.2 正则的用处 匹配:判断一个字符串是否包含我们所指定的规则 ref.test(str) 捕获：把字符串中符合规则的内容捕获到  ref.exec(str)   0.3 正则的元素每一个正则表达式都是由元字符和修饰符组成的  【元字符】在//之间具有意义的一些字符 【量词元字符】代表出现次数数量的元字符 【特殊符号】（()，[]">
<meta property="og:locale" content="JS">
<meta property="og:updated_time" content="2018-11-25T09:24:08.862Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="正则">
<meta name="twitter:description" content="0 概述0.1 正则概念就是一个规则，用来处理字符串的一个规则  0.2 正则的用处 匹配:判断一个字符串是否包含我们所指定的规则 ref.test(str) 捕获：把字符串中符合规则的内容捕获到  ref.exec(str)   0.3 正则的元素每一个正则表达式都是由元字符和修饰符组成的  【元字符】在//之间具有意义的一些字符 【量词元字符】代表出现次数数量的元字符 【特殊符号】（()，[]">
  
  
    <link rel="icon" href="/favicon.ico">
  
  <link href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css">
  <script src="/js/pace.min.js"></script>
  

  
  

</head>

<body>
  <div id="container">
      <header id="header">
    <div id="banner"></div>
    <div id="header-outer">
        <div id="header-menu" class="header-menu-pos animated">
            <div class="header-menu-container">
                <a href="/" class="left">
                    <span class="site-title">云销雨霁彩彻区明</span>
                </a>
                <nav id="header-menu-nav" class="right">
                    
                    <a  href="/">
                        <i class="fa fa-home"></i>
                        <span>Home</span>
                    </a>
                    
                    <a  href="/archives">
                        <i class="fa fa-archive"></i>
                        <span>Archives</span>
                    </a>
                    
                    <a  href="/about">
                        <i class="fa fa-user"></i>
                        <span>About</span>
                    </a>
                    
                </nav>
                <a class="mobile-header-menu-button">
                    <i class="fa fa-bars"></i>
                </a>
            </div>
        </div>
        <div id="header-row">
            <div id="logo">
                <a href="/">
                    <img src="/images/logo.png" alt="logo">
                </a>
            </div>
            <div class="header-info">
                <div id="header-title">
                    
                    <h2>
                        云销雨霁彩彻区明
                    </h2>
                    
                </div>
                <div id="header-description">
                    
                    <h3>
                        林花谢了春红太匆匆
                    </h3>
                    
                </div>
            </div>
            <nav class="header-nav">
                <div class="social">
                    
                        <a title="linjiad_个人微博" target="_blank" href="//linjiad.github.io/">
                            <i class="fa fa-home fa-2x"></i></a>
                    
                        <a title="Github" target="_blank" href="//github.com/linjiad">
                            <i class="fa fa-github fa-2x"></i></a>
                    
                </div>
            </nav>
        </div>
    </div>
</header>
      <div class="outer">
        <section id="main" class="body-wrap"><article id="post-正则" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 class="post-title" itemprop="name">
      正则
    </h1>
    <div class="post-title-bar">
      <ul>
          
              <li>
                  <i class="fa fa-book"></i>
                  
                      <a href="/categories/前端技术/">前端技术</a>
                  
              </li>
          
        <li>
          <i class="fa fa-calendar"></i>  2018-11-21
        </li>
        <li>
          <i class="fa fa-eye"></i>
          <span id="busuanzi_value_page_pv"></span>
        </li>
      </ul>
    </div>
  

          
      </header>
    
    <div class="article-entry post-content" itemprop="articleBody">
      
            
            <h2 id="0-概述"><a href="#0-概述" class="headerlink" title="0 概述"></a>0 概述</h2><h3 id="0-1-正则概念"><a href="#0-1-正则概念" class="headerlink" title="0.1 正则概念"></a>0.1 正则概念</h3><p>就是一个规则，用来处理字符串的一个规则</p>
<hr>
<h3 id="0-2-正则的用处"><a href="#0-2-正则的用处" class="headerlink" title="0.2 正则的用处"></a>0.2 正则的用处</h3><ol>
<li>匹配:判断一个字符串是否包含我们所指定的规则 ref.test(str)</li>
<li>捕获：把字符串中符合规则的内容捕获到  ref.exec(str)</li>
</ol>
<hr>
<h3 id="0-3-正则的元素"><a href="#0-3-正则的元素" class="headerlink" title="0.3 正则的元素"></a>0.3 正则的元素</h3><p>每一个正则表达式都是由元字符和修饰符组成的</p>
<ol>
<li>【元字符】在//之间具有意义的一些字符</li>
<li>【量词元字符】代表出现次数数量的元字符</li>
<li>【特殊符号】（()，[]）</li>
<li>【修饰符】<br>① global（g）：全局匹配<br>② ignoreCase（i）：忽略大小写匹配<br>③ multiline（m）：多行匹配</li>
</ol>
<hr>
<h2 id="1-创建正则"><a href="#1-创建正则" class="headerlink" title="1 创建正则"></a>1 创建正则</h2><p>我们可以先看看正则里都包含了哪些</p>
<blockquote>
<p>console.log(RegExp.prototype);</p>
</blockquote>
<hr>
<h3 id="1-1-字面量方式"><a href="#1-1-字面量方式" class="headerlink" title="1.1 字面量方式"></a>1.1 字面量方式</h3><blockquote>
<p>var reg = /\d/</p>
</blockquote>
<hr>
<h3 id="1-2实例创建"><a href="#1-2实例创建" class="headerlink" title="1.2实例创建"></a>1.2实例创建</h3><blockquote>
<p>var reg = new RegExp(“”)</p>
</blockquote>
<hr>
<h3 id="1-3两者区别"><a href="#1-3两者区别" class="headerlink" title="1.3两者区别"></a>1.3两者区别</h3><ol>
<li>字面量：在字面量方式中，我们//之间包起来的所有内容都是元字符，有特殊意义的，大部分都是代表本身含义的普通的元字符<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name = zhu;</span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/^\d+"+name+"\d+$/g</span>;</span><br><span class="line">Console.log(reg.test(<span class="string">"2015zhu2016"</span>))<span class="comment">// false;</span></span><br><span class="line">Console.log(reg.test(<span class="string">'2015""nameeeee2016'</span>))<span class="comment">// true;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>在这段代码中，并非是name代表zhu而是仅代表name本身，并且+为出现e的次数</p>
<hr>
<ol start="2">
<li>创建实例<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">"/^\\d+"</span>+name+<span class="string">"\\d+$/"</span>,g);</span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"2015zhu2016"</span>))  <span class="comment">//true;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>这里name就代表的是zhu<br>注意：<br><strong><br><code>1.创建实例中转移符为两个\\d</code><br><code>2.创建实例中修饰符作为第二个参数传入</code>
</strong></p>
<hr>
<h3 id="1-4-字符串match方法"><a href="#1-4-字符串match方法" class="headerlink" title="1.4 字符串match方法"></a>1.4 字符串match方法</h3><p>字符串中的match方法：把所有和正则匹配的字符都获取到<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/\d+?/g</span>;</span><br><span class="line"><span class="keyword">var</span> str = <span class="string">"zhufeng2015peixun2016"</span>;</span><br><span class="line"><span class="keyword">var</span> ary = str.match(reg);</span><br><span class="line"><span class="built_in">console</span>.log(ary)</span><br></pre></td></tr></table></figure></p>
<p>虽然当前情况下，match比我们的exec更加的简便一些，但是match中存在一些自己处理不了的问题：在分组捕获的情况下，match只能捕获到大正则匹配的内容，而对于小正则捕获的内容是无法获取的</p>
<hr>
<h3 id="1-5-字符串中replace"><a href="#1-5-字符串中replace" class="headerlink" title="1.5 字符串中replace"></a>1.5 字符串中replace</h3><p>把原有的字符串替换成新的字符<br>在不使用正则的情况下，每当执行一次只能替换一个字符<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">"zhufeng2015zhufeng2016"</span></span><br><span class="line">str = str.replace(<span class="string">"zhufeng"</span>,<span class="string">"zhufengjiaoyu"</span>).replace(<span class="string">"zhufeng"</span>,<span class="string">"zhufengjiaoyu"</span>)</span><br><span class="line"><span class="comment">// "zhufengjiaoyujiaoyu2015zhufeng2016"</span></span><br></pre></td></tr></table></figure></p>
<p>这样出现zhufengjiaoyujiaoyu并没有实现需求；<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> str = <span class="string">"zhufeng2015zhufeng2016"</span></span><br><span class="line">str = str.replace(<span class="regexp">/zhufeng/g</span>,<span class="string">"zhufengjiaoyu"</span>);</span><br><span class="line"><span class="built_in">console</span>.log(str);</span><br><span class="line"><span class="comment">// "zhufengjiaoyu2015zhufengjiaoyu2016"</span></span><br></pre></td></tr></table></figure></p>
<p>replace第一项的值是一个正则的实现原理</p>
<h2 id="2-语法规则"><a href="#2-语法规则" class="headerlink" title="2 语法规则"></a>2 语法规则</h2><h3 id="2-1-元字符"><a href="#2-1-元字符" class="headerlink" title="2.1 元字符"></a>2.1 元字符</h3><p>在//之间具有意义的一些字符</p>
<blockquote>
<p>\：转义字符，转义后面字符所代表的含义<br> ^  :以某一元字符开始<br> $  :以某一元字符结束<br> \n :匹配一个换行符<br> .  :除了\n以外的任意字符</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/^0.2$/</span>  <span class="comment">// 以0开头2结尾中间除了\n的任意字符</span></span><br><span class="line">Console.log(reg.test(<span class="string">"0.2"</span>))  <span class="comment">//  true</span></span><br><span class="line">Console.log(reg.test(<span class="string">"0-2"</span>))  <span class="comment">//  true</span></span><br><span class="line"> reg = <span class="regexp">/^0\.2$/</span> </span><br><span class="line">Console.log(reg.test(<span class="string">"0.2"</span>))  <span class="comment">//  false</span></span><br><span class="line">Console.log(reg.test(<span class="string">"0-2"</span>))  <span class="comment">//  true</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>x|y:x或y其中一个<br>  [xyz]:x或者y或者z其中一个<br>  [^xyz]:除了xyz之外的任意字符<br>  [a-z]:a-z之间任意一个字符<br>  [^a-z]:除了a-z之间任意一个字符<br>  \d:一个0-9之间的数字<br>  \D:除了0-9之外的任意字符<br>  \w:数字，字母，下划线中的任意一个字符  [0-9a-zA-Z_]<br>  \b:匹配一个边界符<br>  \s:匹配一个空白字段，空格或制表符，换页符</p>
</blockquote>
<hr>
<h3 id="2-2-量词元字符"><a href="#2-2-量词元字符" class="headerlink" title="2.2 量词元字符"></a>2.2 量词元字符</h3><p>代表出现次数数量的元字符</p>
<blockquote>
<p>*:出现0到多次<br>  +:出现1到<br>  ?:出现0或1次<br>  {n}:出现n次<br>  {n,}:出现n到多次<br>  {n,m}:出现n到m次</p>
</blockquote>
<p>一个简单的手机验证<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg= <span class="regexp">/^1\d(10)$/</span></span><br></pre></td></tr></table></figure></p>
<hr>
<h3 id="2-3-特殊符号"><a href="#2-3-特殊符号" class="headerlink" title="2.3 特殊符号"></a>2.3 特殊符号</h3><ol>
<li>()<br>分组作用改变x|y的优先级<blockquote>
<p>var reg = /^18|19$/;</p>
</blockquote>
</li>
</ol>
<p>可以是18,19,189,119,819,1819….</p>
<blockquote>
<p>var reg = /^(18|19)$/;</p>
</blockquote>
<p>只能是18,19</p>
<ol start="2">
<li>[]<br>1) 在括号中出现的所有字段都代表本身意思的字符串（没有特殊含义）<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/^0[.]$/</span>  <span class="comment">// 以0开头2结尾中间除了\n的任意字符</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"1"</span>))  <span class="comment">//  false</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"."</span>))  <span class="comment">//  true</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>2) 中括号中不识别两位数<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/^[12]$/</span>  <span class="comment">// 1或者2中的其中一个</span></span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/^[12-68]$/</span>  <span class="comment">// 1,2-6中的一个，8 三个中的一个</span></span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/^[\w-]$/</span>  <span class="comment">// 数字，字母，下划线，-中的一个</span></span><br></pre></td></tr></table></figure></p>
<hr>
<h3 id="2-4-修饰符"><a href="#2-4-修饰符" class="headerlink" title="2.4 修饰符"></a>2.4 修饰符</h3><p>修饰符可以有效的解决正则捕获的懒惰性</p>
<blockquote>
<p>global（g）：全局匹配<br>ignoreCase（i）：忽略大小写匹配<br>multiline（m）：多行匹配</p>
</blockquote>
<hr>
<h2 id="3-正则用法"><a href="#3-正则用法" class="headerlink" title="3 正则用法"></a>3 正则用法</h2><h3 id="3-1-匹配"><a href="#3-1-匹配" class="headerlink" title="3.1 匹配"></a>3.1 匹配</h3><p>判断一个字符串是否包含我们所指定的规则 </p>
<blockquote>
<p>ref.test(str)</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/\d/</span>  <span class="comment">//包含一个0-9之间的数字</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"住"</span>)); <span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"1"</span>)); <span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.test(<span class="string">"住111"</span>)); <span class="comment">//true</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="3-2-捕获"><a href="#3-2-捕获" class="headerlink" title="3.2 捕获"></a>3.2 捕获</h3><p>把字符串中符合规则的内容捕获到</p>
<blockquote>
<p>ref.exec(str)</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/\d/</span>;</span><br><span class="line"><span class="built_in">console</span>.log(reg.exec(<span class="string">"住"</span>));  <span class="comment">// null</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.exec(<span class="string">"1"</span>));  <span class="comment">// ["1",index:0,input:"1"]</span></span><br></pre></td></tr></table></figure>
<hr>
<h3 id="3-3-捕获的内容格式"><a href="#3-3-捕获的内容格式" class="headerlink" title="3.3 捕获的内容格式"></a>3.3 捕获的内容格式</h3><p>第一项为当前数组最大正则捕获的内容</p>
<blockquote>
<p>index：捕获内容所在开始索引位置<br>input：捕获的原始字符串<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/\d+/</span>;</span><br><span class="line"><span class="keyword">var</span> str = <span class="string">"zhufeng2015peixun2016"</span>;</span><br><span class="line"><span class="keyword">var</span> res = reg.exec(str);</span><br><span class="line"><span class="built_in">console</span>.log(res);    <span class="comment">//["2015",index:7,input:"zhufeng2015peixun2016"]</span></span><br></pre></td></tr></table></figure></p>
</blockquote>
<hr>
<h3 id="3-4-正则捕获的特点"><a href="#3-4-正则捕获的特点" class="headerlink" title="3.4 正则捕获的特点"></a>3.4 正则捕获的特点</h3><p>1.<strong>懒惰型</strong><br>每一次执行exec只捕捉第一个正则匹配的内容，在不进行任何处理的情况下，在执行多次捕捉，不做的还是第一个匹配内容<br>第一次：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/\d+/</span>;</span><br><span class="line"><span class="keyword">var</span> str = <span class="string">"zhufeng2015peixun2016"</span>;</span><br><span class="line"><span class="keyword">var</span> res = reg.exec(str);</span><br><span class="line"><span class="built_in">console</span>.log(res);    <span class="comment">//["2015",index:7,input:"zhufeng2015peixun2016"]</span></span><br></pre></td></tr></table></figure></p>
<p>第二次：还是一样<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/\d+/</span>;</span><br><span class="line"><span class="keyword">var</span> str = <span class="string">"zhufeng2015peixun2016"</span>;</span><br><span class="line"><span class="keyword">var</span> res = reg.exec(str);</span><br><span class="line"><span class="built_in">console</span>.log(res);    <span class="comment">//["2015",index:7,input:"zhufeng2015peixun2016"]</span></span><br></pre></td></tr></table></figure></p>
<p>如何解决懒惰型：  在正则末尾加上一个修饰符g<br>原理：加了全局修饰符g，正则每一次捕获或，我们的lastIndex的值都变为了最新的值，下一次捕获从最新的位置开始查找。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/\d+/g</span>;</span><br><span class="line"><span class="keyword">var</span> str = <span class="string">"zhufeng2015peixun2016"</span>;</span><br><span class="line"><span class="keyword">var</span> res = reg.exec(str);</span><br><span class="line"><span class="built_in">console</span>.log(reg.lastIndex); <span class="comment">//匹配开始位置  0</span></span><br><span class="line"><span class="built_in">console</span>.log(res);    <span class="comment">//[“2015”,index:7,input:“zhufeng2015peixun2016”]</span></span><br><span class="line">Console.log(reg.lastIndex);   <span class="comment">//匹配开始位置  11</span></span><br><span class="line"><span class="built_in">console</span>.log(res);    <span class="comment">//[“2016”,index:7,input:17“zhufeng2015peixun2016”]</span></span><br></pre></td></tr></table></figure></p>
<p>捕获全部内容：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/\d+/g</span>;</span><br><span class="line"><span class="keyword">var</span> str = <span class="string">"zhufeng2015peixun2016"</span>;</span><br><span class="line"><span class="keyword">var</span> arr = [];</span><br><span class="line"><span class="keyword">while</span>(res)&#123;</span><br><span class="line">arr.push(res[<span class="number">0</span>]);</span><br><span class="line">res = reg.exec(str);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(arr);</span><br></pre></td></tr></table></figure></p>
<p>2.<strong>贪婪性</strong><br>正则的每一次捕获都是按照匹配最长的结果捕获的例如：2符合正则2015也符合正则，我们默认捕获的是2015<br>如何解决贪婪性：在量词元字符后面加上？即可<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/\d+?/g</span>;</span><br><span class="line"><span class="keyword">var</span> str = <span class="string">"zhufeng2015peixun2016"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(reg.exec(str));   <span class="comment">//["2",....]</span></span><br><span class="line"><span class="keyword">var</span> ary = [],res = reg.exec(str);</span><br><span class="line"><span class="keyword">while</span>(res)&#123;</span><br><span class="line">ary.push(res[<span class="number">0</span>]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(ary);</span><br></pre></td></tr></table></figure></p>
<hr>
<h2 id="4正则分组"><a href="#4正则分组" class="headerlink" title="4正则分组"></a>4正则分组</h2><h3 id="4-1-分组引用"><a href="#4-1-分组引用" class="headerlink" title="4.1 分组引用"></a>4.1 分组引用</h3><p>\2代表和第二个分组出现一模一样的内容；\1和第一个分组出现一模一样的内容：<br>一模一样：和对应的分组中的内容的值都要一样<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/^(\w)\1(\w)\2$/</span>;</span><br><span class="line">Console.log(reg.test(<span class="string">"zzff"</span>));  <span class="comment">//true</span></span><br><span class="line">Console.log(reg.test(<span class="string">"z0f_"</span>));  <span class="comment">//false</span></span><br></pre></td></tr></table></figure></p>
<h3 id="4-2-分组捕获"><a href="#4-2-分组捕获" class="headerlink" title="4.2 分组捕获"></a>4.2 分组捕获</h3><p>正则在捕获的时候，不仅仅把大正则匹配的内容捕获到，而且还可以把小分组匹配的内容捕获到</p>
<blockquote>
<p>(?:)在分组中?:的意思是只匹配不捕获</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/^(\d&#123;2&#125;(\d&#123;4&#125;)(\d&#123;4&#125;)(\d&#123;2&#125;)(\d&#123;2&#125;)(?:\d&#123;2&#125;)(\d)(?:\d|X))$/</span> </span><br><span class="line"><span class="keyword">var</span> str = <span class="string">"142726199009181211"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(reg.exec(str));</span><br><span class="line"><span class="comment">// ary = ["142726199009181211", "142726199009181211", "2726", "1990", "09", "18", "1", index: 0, input: "142726199009181211", groups: undefined]</span></span><br></pre></td></tr></table></figure>
<p>ary[0]  大写正则匹配的全部内容<br>ary[1]  第一个分组捕获的内容<br>ary[2] 第二个分组捕获的内容<br>Match捕获：</p>
<blockquote>
<p>console.log(str.match(reg))  </p>
</blockquote>
<p>和exec获取的结果一样<br>不同:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/zhufeng(\d+)/g</span></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">"zhufeng1234zhufeng3456zhufeng5678"</span>;</span><br><span class="line"><span class="built_in">console</span>.log(reg.exec(str)); <span class="comment">//["zhufeng1234", "1234", index: 0, input: "zhufeng1234zhufeng3456zhufeng5678", groups: undefined]</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.exec(str)); <span class="comment">//["zhufeng3456", "3456", index: 11, input: "zhufeng1234zhufeng3456zhufeng5678", groups: undefined]</span></span><br><span class="line"><span class="built_in">console</span>.log(reg.exec(str)); <span class="comment">//["zhufeng5678", "5678", index: 22, input: "zhufeng1234zhufeng3456zhufeng5678", groups: undefined]</span></span><br></pre></td></tr></table></figure></p>
<p>而match只能捕获大正则匹配的内容<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(str.match(reg)) <span class="comment">//["zhufeng1234", "zhufeng3456", "zhufeng5678"]</span></span><br></pre></td></tr></table></figure></p>
<hr>
<h2 id="5-练习"><a href="#5-练习" class="headerlink" title="5 练习"></a>5 练习</h2><p>1.有效数字的正则<br>1）”.”可以出现也可以不出现，一旦出现后面要跟着一位或多位数字<br>2）最开始可以使+/-也可以没有<br>3）整数部分，一位数可以使0-9之间的一个，多位数不能以0开头<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/^[+-]?(\d|([1-9]\d+))(\.\d+)?$/</span></span><br></pre></td></tr></table></figure></p>
<p>2.年龄介于18-65之间  18-19  20-59  60-65<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/^[+-]?(\d|([1-9]\d+))(\.\d+)?$/</span></span><br></pre></td></tr></table></figure></p>
<p>3.邮箱认证（简版）<br>左侧：数字，字母，下划线。。。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/^[\w.-]+@[0-9a-zA-Z]+(\.[a-zA-Z]&#123;2,4&#125;)(1,2)$/</span>;</span><br></pre></td></tr></table></figure></p>
<p>4.中国标准实名2-4位<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/^[\u4e00-\u9fa5]&#123;2,4&#125;$/</span></span><br></pre></td></tr></table></figure></p>
<p>5.身份证号<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> reg  = <span class="regexp">/^\d&#123;17&#125;(\d\X)$/</span></span><br><span class="line"><span class="comment">// 21 0302 1990 12 30 00 1 9</span></span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/^(\d&#123;2&#125;(\d&#123;4&#125;)(\d&#123;4&#125;)(\d&#123;2&#125;)(\d&#123;2&#125;)(\d&#123;2&#125;)(\d)(\d|X))$/</span></span><br></pre></td></tr></table></figure></p>

            <div class="post-copyright">
    <div class="content">
        <p>最后更新： 2018年11月25日 17:24</p>
        <p>原始链接： <a class="post-url" href="/2018/11/21/正则/" title="正则">http://linjiad.github.io/2018/11/21/正则/</a></p>
        <footer>
            <a href="http://linjiad.github.io">
                <img src="/images/logo.png" alt="linjiad">
                linjiad
            </a>
        </footer>
    </div>
</div>

      
        
            
<div class="page-reward">
    <a id="rewardBtn" href="javascript:;">赏</a>
</div>

<div id="reward" class="post-modal reward-lay">
    <a class="close" href="javascript:;" id="reward-close">×</a>
    <span class="reward-title">
        <i class="icon icon-quote-left"></i>
        请我吃糖~
        <i class="icon icon-quote-right"></i>
    </span>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" src="/images/weixin.png" alt="打赏二维码">
        </div>
        <div class="reward-select">
            
            <label class="reward-select-item checked" data-id="wechat" data-wechat="/images/weixin.png">
                <img class="reward-select-item-wechat" src="/images/wechat.png" alt="微信">
            </label>
            
            
            <label class="reward-select-item" data-id="alipay" data-alipay="/images/zhifubao.png">
                <img class="reward-select-item-alipay" src="/images/alipay.png" alt="支付宝">
            </label>
            
        </div>
    </div>
</div>


        
    </div>
    <footer class="article-footer">
        
        
<div class="post-share">
    <a href="javascript:;" id="share-sub" class="post-share-fab">
        <i class="fa fa-share-alt"></i>
    </a>
    <div class="post-share-list" id="share-list">
        <ul class="share-icons">
          <li>
            <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://linjiad.github.io/2018/11/21/正则/&title=《正则》 — linjiad_个人博客&pic=2018/11/21/正则/menu.jpg" data-title="微博">
              <i class="fa fa-weibo"></i>
            </a>
          </li>
          <li>
            <a class="weixin share-sns" id="wxFab" href="javascript:;" data-title="微信">
              <i class="fa fa-weixin"></i>
            </a>
          </li>
          <li>
            <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://linjiad.github.io/2018/11/21/正则/&title=《正则》 — linjiad_个人博客&source=这个人很懒什么也没写" data-title="QQ">
              <i class="fa fa-qq"></i>
            </a>
          </li>
          <li>
            <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://linjiad.github.io/2018/11/21/正则/" data-title="Facebook">
              <i class="fa fa-facebook"></i>
            </a>
          </li>
          <li>
            <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《正则》 — linjiad_个人博客&url=http://linjiad.github.io/2018/11/21/正则/&via=http://linjiad.github.io" data-title="Twitter">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
          <li>
            <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://linjiad.github.io/2018/11/21/正则/" data-title="Google+">
              <i class="fa fa-google-plus"></i>
            </a>
          </li>
        </ul>
     </div>
</div>
<div class="post-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;" id="wxShare-close">×</a>
    <p>扫一扫，分享到微信</p>
    <img src="//api.qrserver.com/v1/create-qr-code/?data=http://linjiad.github.io/2018/11/21/正则/" alt="微信分享二维码">
</div>

<div class="mask"></div>

        
        <ul class="article-footer-menu">
            
            
  <li class="article-footer-tags">
    <i class="fa fa-tags"></i>
      
    <a href="/tags/语法/" class="color3">语法</a>
      
  </li>

        </ul>
        
    </footer>
  </div>
</article>


    <aside class="post-toc-pos post-toc-top" id="post-toc">
        <nav class="post-toc-wrap">
            <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#0-概述"><span class="post-toc-text">0 概述</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#0-1-正则概念"><span class="post-toc-text">0.1 正则概念</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#0-2-正则的用处"><span class="post-toc-text">0.2 正则的用处</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#0-3-正则的元素"><span class="post-toc-text">0.3 正则的元素</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#1-创建正则"><span class="post-toc-text">1 创建正则</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-1-字面量方式"><span class="post-toc-text">1.1 字面量方式</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-2实例创建"><span class="post-toc-text">1.2实例创建</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-3两者区别"><span class="post-toc-text">1.3两者区别</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-4-字符串match方法"><span class="post-toc-text">1.4 字符串match方法</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#1-5-字符串中replace"><span class="post-toc-text">1.5 字符串中replace</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#2-语法规则"><span class="post-toc-text">2 语法规则</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-1-元字符"><span class="post-toc-text">2.1 元字符</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-2-量词元字符"><span class="post-toc-text">2.2 量词元字符</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-3-特殊符号"><span class="post-toc-text">2.3 特殊符号</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-4-修饰符"><span class="post-toc-text">2.4 修饰符</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#3-正则用法"><span class="post-toc-text">3 正则用法</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3-1-匹配"><span class="post-toc-text">3.1 匹配</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3-2-捕获"><span class="post-toc-text">3.2 捕获</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3-3-捕获的内容格式"><span class="post-toc-text">3.3 捕获的内容格式</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3-4-正则捕获的特点"><span class="post-toc-text">3.4 正则捕获的特点</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#4正则分组"><span class="post-toc-text">4正则分组</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#4-1-分组引用"><span class="post-toc-text">4.1 分组引用</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#4-2-分组捕获"><span class="post-toc-text">4.2 分组捕获</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#5-练习"><span class="post-toc-text">5 练习</span></a></li></ol>
        </nav>
    </aside>
    

<nav id="article-nav">
  
    <a href="/2018/11/23/AJAX/" id="article-nav-newer" class="article-nav-link-wrap">

      <span class="article-nav-title">
        <i class="fa fa-hand-o-left" aria-hidden="true"></i>
        
          AJAX
        
      </span>
    </a>
  
  
    <a href="/2018/11/15/HTTP简述/" id="article-nav-older" class="article-nav-link-wrap">
      <span class="article-nav-title">HTTP简述</span>
      <i class="fa fa-hand-o-right" aria-hidden="true"></i>
    </a>
  
</nav>



    
        <link rel="stylesheet" href="//unpkg.com/gitment/style/default.css">
    <script src="//unpkg.com/gitment/dist/gitment.browser.js"></script>
    <script>
        var gitment = new Gitment({
            owner: 'linjiad',
            repo: 'linjiad.github.io',
            oauth: {
                client_id: '9b8f5415215f1aef0b2c',
                client_secret: 'dea7335a3cd2d8e380b0279a5f1f7245797579d7',
            },
        })
        gitment.render('comments')
    </script>

    
</section>
        
      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info" class="inner">
      
<p>
    <span id="busuanzi_container_site_uv" style='display:none'>
        总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style='display:none'>
        总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


      <p>
        Powered by  <a href="http://hexo.io/" target="_blank">Hexo</a>
        Theme <a href="//github.com/wongminho/hexo-theme-miho" target="_blank">MiHo</a>
      &copy; 2018 linjiad<br>
      </p>
    </div>
  </div>
</footer>
    <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<script src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
<script>
  var mihoConfig = {
      root: "http://linjiad.github.io",
      animate: true,
      isHome: false,
      share: true,
      reward: 1
  }
</script>
<div class="sidebar">
    <div id="sidebar-search" title="Search">
        <i class="fa fa-search"></i>
    </div>
    <div id="sidebar-category" title="Categories">
        <i class="fa fa-book"></i>
    </div>
    <div id="sidebar-tag" title="Tags">
        <i class="fa fa-tags"></i>
    </div>
    <div id="sidebar-top">
        <span class="sidebar-top-icon"><i class="fa fa-angle-up"></i></span>
    </div>
</div>
<div class="sidebar-menu-box" id="sidebar-menu-box">
    <div class="sidebar-menu-box-container">
        <div id="sidebar-menu-box-categories">
            <a class="category-link" href="/categories/Linux服务器/">Linux服务器</a><a class="category-link" href="/categories/产品办公/">产品办公</a><a class="category-link" href="/categories/产品文档/">产品文档</a><a class="category-link" href="/categories/前端技术/">前端技术</a><a class="category-link" href="/categories/博客/">博客</a><a class="category-link" href="/categories/后端技术/">后端技术</a><a class="category-link" href="/categories/运维/">运维</a>
        </div>
        <div id="sidebar-menu-box-tags">
            <a href="/tags/CSS3/" style="font-size: 15px;">CSS3</a> <a href="/tags/HTML/" style="font-size: 12.5px;">HTML</a> <a href="/tags/JavaScript/" style="font-size: 10px;">JavaScript</a> <a href="/tags/echarts/" style="font-size: 12.5px;">echarts</a> <a href="/tags/hexo/" style="font-size: 12.5px;">hexo</a> <a href="/tags/jQuery/" style="font-size: 10px;">jQuery</a> <a href="/tags/nodeppt/" style="font-size: 15px;">nodeppt</a> <a href="/tags/swagger2/" style="font-size: 10px;">swagger2</a> <a href="/tags/websocket/" style="font-size: 10px;">websocket</a> <a href="/tags/weex/" style="font-size: 10px;">weex</a> <a href="/tags/产品/" style="font-size: 17.5px;">产品</a> <a href="/tags/前端服务/" style="font-size: 10px;">前端服务</a> <a href="/tags/数据库/" style="font-size: 10px;">数据库</a> <a href="/tags/环境部署/" style="font-size: 20px;">环境部署</a> <a href="/tags/语法/" style="font-size: 10px;">语法</a>
        </div>
    </div>
    <a href="javascript:;" class="sidebar-menu-box-close">&times;</a>
</div>
<div class="mobile-header-menu-nav" id="mobile-header-menu-nav">
    <div class="mobile-header-menu-container">
        <span class="title">Menus</span>
        <ul class="mobile-header-menu-navbar">
            
            <li>
                <a  href="/">
                    <i class="fa fa-home"></i><span>Home</span>
                </a>
            </li>
            
            <li>
                <a  href="/archives">
                    <i class="fa fa-archive"></i><span>Archives</span>
                </a>
            </li>
            
            <li>
                <a  href="/about">
                    <i class="fa fa-user"></i><span>About</span>
                </a>
            </li>
            
        </ul>
    </div>
    <div class="mobile-header-tag-container">
        <span class="title">Tags</span>
        <div id="mobile-header-container-tags">
            <a href="/tags/CSS3/" style="font-size: 15px;">CSS3</a> <a href="/tags/HTML/" style="font-size: 12.5px;">HTML</a> <a href="/tags/JavaScript/" style="font-size: 10px;">JavaScript</a> <a href="/tags/echarts/" style="font-size: 12.5px;">echarts</a> <a href="/tags/hexo/" style="font-size: 12.5px;">hexo</a> <a href="/tags/jQuery/" style="font-size: 10px;">jQuery</a> <a href="/tags/nodeppt/" style="font-size: 15px;">nodeppt</a> <a href="/tags/swagger2/" style="font-size: 10px;">swagger2</a> <a href="/tags/websocket/" style="font-size: 10px;">websocket</a> <a href="/tags/weex/" style="font-size: 10px;">weex</a> <a href="/tags/产品/" style="font-size: 17.5px;">产品</a> <a href="/tags/前端服务/" style="font-size: 10px;">前端服务</a> <a href="/tags/数据库/" style="font-size: 10px;">数据库</a> <a href="/tags/环境部署/" style="font-size: 20px;">环境部署</a> <a href="/tags/语法/" style="font-size: 10px;">语法</a>
        </div>
    </div>
</div>
<div class="search-wrap">
    <span class="search-close">&times;</span>
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
            <i class="icon icon-lg icon-chevron-left"></i>
        </a>
        <input class="search-field" placeholder="Search..." id="keywords">
        <a id="search-submit" href="javascript:;">
            <i class="fa fa-search"></i>
        </a>
    <div class="search-container" id="search-container">
        <ul class="search-result" id="search-result">
        </ul>
    </div>
</div>

<div id="search-tpl">
    <li class="search-result-item">
        <a href="{url}" class="search-item-li">
            <span class="search-item-li-title" title="{title}">{title}</span>
        </a>
    </li>
</div>
<script src="/js/search.js"></script>
<script src="/js/main.js"></script>


  <script src="//cdn.bootcss.com/particles.js/2.0.0/particles.min.js"></script>
  <div id="particles"></div>
  <script src="/js/particles.js"></script>







  <link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css">
  <script src="//cdn.bootcss.com/scrollReveal.js/3.0.5/scrollreveal.js"></script>
  <script src="/js/animate.js"></script>


  <script src="/js/pop-img.js"></script>
  <script>
     $(".article-entry p img").popImg();
  </script>

  </div>
</body>
</html>